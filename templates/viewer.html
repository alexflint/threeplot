<html>
<head>
<script src="http://cdnjs.cloudflare.com/ajax/libs/three.js/r69/three.min.js"></script>
<script src="https://dl.dropboxusercontent.com/u/3587259/Code/Threejs/OrbitControls.js"></script>
<style>
body {
  color: #000;
  font-family:Monospace;
  font-size:13px;
  text-align:center;
  font-weight: bold;

  background-color: #fff;
  margin: 0px;
  overflow: hidden;
}
</style>
</head>
<body>
<div id="container"></div> 
<script type="text/javascript">
var container, stats;

var camera, controls, scene, renderer;

var cross;

init();
animate();

function init() {

  camera = new THREE.PerspectiveCamera( 60, window.innerWidth / window.innerHeight, 1, 1000 );
  camera.position.z = 50;

  controls = new THREE.OrbitControls( camera );
  controls.addEventListener( 'change', render );

  scene = new THREE.Scene();
  scene.fog = new THREE.FogExp2( 0xcccccc, 0.002 );

  // Add mesh

  // var geometry = new THREE.CylinderGeometry( 0, 10, 30, 4, 1 );
  // var material = new THREE.MeshLambertMaterial( { color:0xffffff, shading: THREE.FlatShading } );

  // for ( var i = 0; i < 500; i ++ ) {

  //   var mesh = new THREE.Mesh( geometry, material );
  //   mesh.position.x = ( Math.random() - 0.5 ) * 1000;
  //   mesh.position.y = ( Math.random() - 0.5 ) * 1000;
  //   mesh.position.z = ( Math.random() - 0.5 ) * 1000;
  //   mesh.updateMatrix();
  //   mesh.matrixAutoUpdate = false;
  //   scene.add( mesh );

  // }

  // Add the polyline
  var line_material = new THREE.LineBasicMaterial({
  	color: 0x0000ff,
  	linewidth: 4
  });

  var line_geometry = new THREE.Geometry();
  {% for vertex in vertices %}
  	line_geometry.vertices.push(new THREE.Vector3({{ vertex[0] }}, {{ vertex[1] }}, {{ vertex[2] }}));
  {% endfor %}
  var line = new THREE.Line(line_geometry, line_material);
  scene.add(line);

  // Add the X-Y grid
  plane_geometry = new THREE.PlaneGeometry({{diameter}}, {{diameter}}, {{num_grid_cells}}, {{num_grid_cells}});
  plane_material = new THREE.MeshBasicMaterial({color: 0x000000, wireframe: true});
  plane = new THREE.Mesh(plane_geometry, plane_material);
  scene.add(plane);


  // Add lights

  // light = new THREE.DirectionalLight( 0xffffff );
  // light.position.set( 1, 1, 1 );
  // scene.add( light );

  // light = new THREE.DirectionalLight( 0x002288 );
  // light.position.set( -1, -1, -1 );
  // scene.add( light );

  // light = new THREE.AmbientLight( 0x222222 );
  // scene.add( light );


  // Create renderer
  renderer = new THREE.WebGLRenderer( { antialias: false } );
  renderer.setClearColor( scene.fog.color, 1 );
  renderer.setSize( window.innerWidth, window.innerHeight );

  container = document.getElementById( 'container' );
  container.appendChild( renderer.domElement );

  window.addEventListener( 'resize', onWindowResize, false );
}

function onWindowResize() {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize( window.innerWidth, window.innerHeight );
  render();
}

function animate() {
  requestAnimationFrame( animate );
  controls.update();
}

function render() {
  renderer.render( scene, camera );
}

</script>
</body>
</html>
